prometheus:
  url: http://kube-prometheus-stack-prometheus.default.svc
  port: 9090
  path: ""
rules:
  default: true
  custom:
    - seriesQuery: '{__name__=~"^http_server_requests_seconds_.*"}'
      resources:
        overrides:
          kubernetes_namespace:
            resource: namespace
          kubernetes_pod_name:
            resource: pod
      name:
        matches: "^http_server_requests_seconds_count(.*)"
        as: "http_server_requests_seconds_count_sum"
      metricsQuery: sum(<<.Series>>{<<.LabelMatchers>>,uri=~"/weather-forecast.*"}) by (<<.GroupBy>>)